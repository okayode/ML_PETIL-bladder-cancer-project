%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% demo + clinical + bio feats
% old RF routine, choosing 3 of 5  (without Ext validation set)

% dmclbio_oldRF=figure;

x2 = categorical({'Surgeon','Age at Surgery','Race','Surgery','Smoker','BMI',...
        'NAC','cT','pT','cT or pT','pN','Bx Histology','Histology',...
        'Sample weight (g) tumor','Tumor digest count (primary tumor)','Number of fragments plated (tumor)'});
y2 = [0.04744822811363382 0.07761131644060328 0.0 0.0 0.02418464906087489 ...
    0.09962289329301298 0.03641106573292422 0.04681813575635648 0.06371297208859122 0.09598033568337416 ...
    0.05090765502871569 0.03268444144787988 0.0545926821090286 0.13771594853416044 0.14024661584627954 ...
    0.09206306086456466;
    0.06684361288196622 0.06897069073636096 0.045573965687054026 0.0 0.018204157225443898 ...
    0.13080521044692053 0.02373327739500628 0.04659807217595044 0.08209216976743965 0.0719333706734621 ...
    0.01754628013771673 0.04556673147449946 0.05312754365970777 0.10564242537923801 0.10779743955281994 ...
    0.11556505280641413;
    0.059710381717438955 0.06255103674116425 0.053241923699294105 0.0 0.01242579078235292 ...
    0.12863531096383968 0.029020100446525428 0.05580462602322792 0.045661060086831316 0.06758653632808946 ...
    0.004935633271068353 0.045034232309443936 0.042065559233901796 0.11050785468053483 0.19175239050732898 ...
    0.09106756320895798;
    0.09072900754320287 0.07447000304231643 0.0007332682682682682 0.0 0.034783686549005155 ...
    0.13750354989119343 0.02103291909593398 0.03355030711534287 0.043023855876596996 0.039388115457226876 ...
    0.040210103921971385 0.022591400105537254 0.0616205654078978 0.1765480987778983 0.16175180886293744 ...
    0.06206331008467104;
    0.10430164641385985 0.06487075921473992 0.0009453781521986388 0.0 0.018792169555885432 ...
    0.09133741486341272 0.01793606112958378 0.06517135356817723 0.056661277010122385 0.0660555832423053 ...
    0.04845465243171685 0.022519925222963887 0.028544565143755123 0.1913736174114849 0.15510899936899672 ...
    0.06792659727079717];

% bar(x2,transpose(y2),1.0)

b2 = bar(x2,transpose(y2),'FaceColor','flat');
for k2 = 1:size(y2,5)
    b2(k2).CData = k2;
end

% Modify the OuterPosition property
left = 100; % Left position of the figure window
bottom = 100; % Bottom position of the figure window
width = 1000; % Width of the figure window in pixels
height = 600; % Height of the figure window in pixels
set(gcf, 'OuterPosition', [left, bottom, width, height]);

% Setting 'threshold' line and color
yl2=yline(0.065625,'--','','fontsize',15,'Linewidth',3.0); % uniform + 0.05*uniform
% yl=yline(0.0625,'--','','fontsize',15,'Linewidth',3.0);
yl2.Color = [1 0 0];

ylabel('Feature Importance Scores (FIS)')
ax=gca;
ax.FontSize = 15;
% dmclbio_oldRF.WindowState='maximized';

print('-djpeg100','-r300',['rf_demo_clinical_bio_feat_bar.jpg'])





















